# Test info

- Name: Auth Integration >> should show admin products page for admin user
- Location: C:\Users\henry\OneDrive\Documents\uni\ICT-S4\COMP3036\Major\comp3036b2c\tests\e2e\auth\auth-integration.spec.ts:47:7

# Error details

```
TimeoutError: page.fill: Timeout 5000ms exceeded.
Call log:
  - waiting for locator('input[type="email"]')
    - locator resolved to <input disabled value="" id="email" required="" type="email" name="email" class="form-input" placeholder="Enter your email"/>
    - fill("admin@example.com")
  - attempting fill action
    2 × waiting for element to be visible, enabled and editable
      - element is not enabled
    - retrying fill action
    - waiting 20ms
    2 × waiting for element to be visible, enabled and editable
      - element is not enabled
    - retrying fill action
      - waiting 100ms
    9 × waiting for element to be visible, enabled and editable
      - element is not enabled
    - retrying fill action
      - waiting 500ms

    at AuthHelper.login (C:\Users\henry\OneDrive\Documents\uni\ICT-S4\COMP3036\Major\comp3036b2c\tests\e2e\auth\auth-helper.ts:31:21)
    at C:\Users\henry\OneDrive\Documents\uni\ICT-S4\COMP3036\Major\comp3036b2c\tests\e2e\auth\auth-integration.spec.ts:48:5
```

# Page snapshot

```yaml
- banner:
  - navigation:
    - link "CLOOOOTHES":
      - /url: /
      - paragraph: CLOOOOTHES
    - textbox "Search products..."
    - link "Shopping Cart":
      - /url: /cart
      - img "Shopping Cart"
    - text: Loading...
- main:
  - heading "Welcome Back" [level=1]
  - paragraph: Sign in to your account to continue shopping
  - text: Email Address
  - textbox "Email Address" [disabled]
  - text: Password
  - textbox "Password" [disabled]
  - button [disabled]:
    - img
  - button "Signing in..." [disabled]
  - paragraph:
    - text: Don't have an account?
    - button "Sign Up"
    - text: "|"
    - link "Return to Shop":
      - /url: /
- contentinfo:
  - contentinfo:
    - heading "CLOOOOTHES" [level=3]
    - paragraph: Discover the latest trends in fashion with our curated collections for men, women, and kids.
    - link "Facebook":
      - /url: "#"
    - link "Instagram":
      - /url: "#"
    - link "Twitter":
      - /url: "#"
    - heading "Shop" [level=3]
    - list:
      - listitem:
        - link "Shop our collection.":
          - /url: /
    - heading "Support" [level=3]
    - list:
      - listitem:
        - link "Contact Us":
          - /url: /contact
      - listitem:
        - link "FAQ":
          - /url: /faq
      - listitem:
        - link "Shipping & Returns":
          - /url: /shipping
      - listitem:
        - link "Size Guide":
          - /url: /size-guide
      - listitem:
        - link "Track Order":
          - /url: /track-order
    - heading "Contact" [level=3]
    - paragraph:
      - img
      - text: 123 Fashion Street, London, UK
    - paragraph:
      - img
      - text: +44 1234 567890
    - paragraph:
      - img
      - text: support@ecommercetype.com
    - text: VISA MC AMEX PayPal Apple
    - paragraph: © 2025 E-Commerce Type Shii. All rights reserved.
    - link "Privacy Policy":
      - /url: /privacy
    - link "Terms of Service":
      - /url: /terms
    - link "Returns Policy":
      - /url: /returns
```

# Test source

```ts
   1 | import { Page, expect } from '@playwright/test';
   2 |
   3 | export const TEST_USERS = {
   4 |   customer: {
   5 |     email: 'customer@example.com',
   6 |     password: 'password123',
   7 |     name: 'John Customer',
   8 |     role: 'CUSTOMER'
   9 |   },
  10 |   admin: {
  11 |     email: 'admin@example.com',
  12 |     password: 'admin123',
  13 |     name: 'Admin User',
  14 |     role: 'ADMIN'
  15 |   }
  16 | };
  17 |
  18 | export class AuthHelper {
  19 |   constructor(private page: Page) {}
  20 |
  21 |   async loginAsCustomer() {
  22 |     return this.login(TEST_USERS.customer.email, TEST_USERS.customer.password);
  23 |   }
  24 |
  25 |   async loginAsAdmin() {
  26 |     return this.login(TEST_USERS.admin.email, TEST_USERS.admin.password);
  27 |   }
  28 |
  29 |   async login(email: string, password: string) {
  30 |     await this.page.goto('/login');
> 31 |     await this.page.fill('input[type="email"]', email);
     |                     ^ TimeoutError: page.fill: Timeout 5000ms exceeded.
  32 |     await this.page.fill('input[type="password"]', password);
  33 |     await this.page.click('button[type="submit"]');
  34 |     
  35 |     // Wait for login to complete
  36 |     await expect(this.page.locator('text=Logout')).toBeVisible();
  37 |     return this;
  38 |   }
  39 |
  40 |   async logout() {
  41 |     await this.page.click('text=Logout');
  42 |     await expect(this.page.locator('text=Login')).toBeVisible();
  43 |     return this;
  44 |   }
  45 |
  46 |   async expectLoggedIn() {
  47 |     await expect(this.page.locator('text=Logout')).toBeVisible();
  48 |     await expect(this.page.locator('text=Login')).not.toBeVisible();
  49 |     return this;
  50 |   }
  51 |
  52 |   async expectLoggedOut() {
  53 |     await expect(this.page.locator('text=Login')).toBeVisible();
  54 |     await expect(this.page.locator('text=Logout')).not.toBeVisible();
  55 |     return this;
  56 |   }
  57 |
  58 |   async expectAdminAccess() {
  59 |     await expect(this.page.locator('text=Admin')).toBeVisible();
  60 |     return this;
  61 |   }
  62 |
  63 |   async register(name: string, email: string, password: string) {
  64 |     await this.page.goto('/login');
  65 |     await this.page.click('text=Sign up');
  66 |     
  67 |     await this.page.fill('input[placeholder*="Name"]', name);
  68 |     await this.page.fill('input[type="email"]', email);
  69 |     await this.page.fill('input[type="password"]', password);
  70 |     await this.page.click('button[type="submit"]');
  71 |     
  72 |     // Should auto-login after registration
  73 |     await expect(this.page.locator('text=Logout')).toBeVisible();
  74 |     return this;
  75 |   }
  76 | }
  77 |
```