# Test info

- Name: Core User Flows >> Complete customer journey: register → browse → cart → checkout
- Location: C:\Users\henry\OneDrive\Documents\uni\ICT-S4\COMP3036\Major\comp3036b2c\tests\e2e\core-flows.spec.ts:13:7

# Error details

```
TimeoutError: page.goto: Timeout 10000ms exceeded.
Call log:
  - navigating to "http://localhost:3000/", waiting until "load"

    at C:\Users\henry\OneDrive\Documents\uni\ICT-S4\COMP3036\Major\comp3036b2c\tests\e2e\core-flows.spec.ts:15:16
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { TestHelpers } from './fixtures/testHelpers';
   3 | import { testUsers, testProducts } from './fixtures/testData';
   4 |
   5 | // Merge authentication scenarios into comprehensive flow tests
   6 | test.describe('Core User Flows', () => {
   7 |   let helpers: TestHelpers;
   8 |
   9 |   test.beforeEach(async ({ page }) => {
   10 |     helpers = new TestHelpers(page);
   11 |   });
   12 |
   13 |   test('Complete customer journey: register → browse → cart → checkout', async ({ page }) => {
   14 |     // Step 1: Registration
>  15 |     await page.goto('/');
      |                ^ TimeoutError: page.goto: Timeout 10000ms exceeded.
   16 |     await page.click('[data-testid="login-button"]');
   17 |     await page.click('[data-testid="switch-to-register"]');
   18 |     
   19 |     const newUser = {
   20 |       name: `Test User ${Date.now()}`,
   21 |       email: `test${Date.now()}@example.com`,
   22 |       password: 'password123'
   23 |     };
   24 |     
   25 |     await page.fill('[data-testid="register-name"]', newUser.name);
   26 |     await page.fill('[data-testid="register-email"]', newUser.email);
   27 |     await page.fill('[data-testid="register-password"]', newUser.password);
   28 |     await page.click('[data-testid="register-submit"]');
   29 |
   30 |     // Verify registration success and auto-login
   31 |     await expect(page.locator('[data-testid="user-menu"]')).toBeVisible({ timeout: 3000 });
   32 |     
   33 |     // Step 2: Browse products
   34 |     await page.goto('/');
   35 |     await page.waitForLoadState('networkidle');
   36 |     
   37 |     const productCards = page.locator('[data-testid="product-card"]');
   38 |     await expect(productCards.first()).toBeVisible();
   39 |     
   40 |     // Step 3: Add to cart
   41 |     await productCards.first().click();
   42 |     await page.waitForLoadState('networkidle');
   43 |     await page.click('[data-testid="add-to-cart"]');
   44 |     
   45 |     // Verify cart update
   46 |     const cartBadge = page.locator('[data-testid="cart-badge"]');
   47 |     await expect(cartBadge).toHaveText('1');
   48 |     
   49 |     // Step 4: View cart
   50 |     await page.click('[data-testid="cart-button"]');
   51 |     await expect(page.locator('[data-testid="cart-item"]')).toBeVisible();
   52 |     
   53 |     // Step 5: Proceed to checkout
   54 |     await page.click('[data-testid="checkout-button"]');
   55 |     await page.waitForURL('/checkout');
   56 |     
   57 |     // Verify checkout page loads
   58 |     await expect(page.locator('[data-testid="shipping-form"]')).toBeVisible();
   59 |     
   60 |     // Verify all core flows worked
   61 |     expect(await page.locator('[data-testid="user-menu"]').isVisible()).toBe(true);
   62 |     expect(await page.locator('[data-testid="cart-item"]').count()).toBeGreaterThan(0);
   63 |   });
   64 |
   65 |   test('Admin workflow: login → manage products → view orders', async ({ page }) => {
   66 |     // Step 1: Admin login
   67 |     await helpers.loginUser(testUsers.admin);
   68 |     
   69 |     // Step 2: Access admin panel
   70 |     await page.goto('/admin');
   71 |     await expect(page.locator('[data-testid="admin-dashboard"]')).toBeVisible();
   72 |     
   73 |     // Step 3: Manage products
   74 |     await page.click('[data-testid="admin-products-link"]');
   75 |     await expect(page.locator('[data-testid="products-table"]')).toBeVisible();
   76 |     
   77 |     // Verify product management functionality
   78 |     const productRows = page.locator('[data-testid="product-row"]');
   79 |     const productCount = await productRows.count();
   80 |     expect(productCount).toBeGreaterThan(0);
   81 |     
   82 |     // Step 4: View orders
   83 |     await page.click('[data-testid="admin-orders-link"]');
   84 |     await expect(page.locator('[data-testid="orders-table"]')).toBeVisible();
   85 |     
   86 |     // Verify admin capabilities
   87 |     expect(await page.locator('[data-testid="admin-dashboard"]').isVisible()).toBe(true);
   88 |     expect(await page.url()).toContain('/admin');
   89 |   });
   90 |
   91 |   test('Search and filter workflow', async ({ page }) => {
   92 |     await page.goto('/');
   93 |     await page.waitForLoadState('networkidle');
   94 |     
   95 |     // Step 1: Search functionality
   96 |     const searchInput = page.locator('[data-testid="search-input"]');
   97 |     await searchInput.fill('shirt');
   98 |     await page.keyboard.press('Enter');
   99 |     
  100 |     await page.waitForLoadState('networkidle');
  101 |     
  102 |     // Verify search results
  103 |     const searchResults = page.locator('[data-testid="product-card"]');
  104 |     await expect(searchResults.first()).toBeVisible();
  105 |     
  106 |     // Step 2: Category filtering
  107 |     await page.goto('/');
  108 |     await page.click('[data-testid="category-clothing"]');
  109 |     
  110 |     await page.waitForLoadState('networkidle');
  111 |     const categoryProducts = page.locator('[data-testid="product-card"]');
  112 |     await expect(categoryProducts.first()).toBeVisible();
  113 |     
  114 |     // Step 3: Product detail view
  115 |     await categoryProducts.first().click();
```