# Test info

- Name: Cart E2E >> should persist cart across page navigation
- Location: C:\Users\henry\OneDrive\Documents\uni\ICT-S4\COMP3036\Major\comp3036b2c\tests\e2e\cart\cart.spec.ts:64:7

# Error details

```
TimeoutError: page.goto: Timeout 10000ms exceeded.
Call log:
  - navigating to "http://localhost:3000/", waiting until "load"

    at C:\Users\henry\OneDrive\Documents\uni\ICT-S4\COMP3036\Major\comp3036b2c\tests\e2e\cart\cart.spec.ts:6:16
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { testUsers } from '../fixtures/testData';
   3 |
   4 | test.describe('Cart E2E', () => {
   5 |   test.beforeEach(async ({ page }) => {
>  6 |     await page.goto('/');
     |                ^ TimeoutError: page.goto: Timeout 10000ms exceeded.
   7 |   });
   8 |
   9 |   test('should add product to cart', async ({ page }) => {
  10 |     // Click on first product
  11 |     await page.locator('[data-testid="product-card"]').first().click();
  12 |     
  13 |     // Add to cart
  14 |     await page.click('button:has-text("Add to Cart")');
  15 |     
  16 |     // Verify cart badge/icon shows item
  17 |     await expect(page.locator('[data-testid="cart-count"]')).toContainText('1');
  18 |   });
  19 |
  20 |   test('should view cart page', async ({ page }) => {
  21 |     // Add item to cart first
  22 |     await page.locator('[data-testid="product-card"]').first().click();
  23 |     await page.click('button:has-text("Add to Cart")');
  24 |     
  25 |     // Go to cart
  26 |     await page.click('[data-testid="cart-icon"]');
  27 |     
  28 |     // Verify cart page
  29 |     await expect(page.locator('[data-testid="cart-item"]')).toBeVisible();
  30 |     await expect(page.locator('text=Total')).toBeVisible();
  31 |   });
  32 |
  33 |   test('should update cart quantity', async ({ page }) => {
  34 |     // Add item to cart
  35 |     await page.locator('[data-testid="product-card"]').first().click();
  36 |     await page.click('button:has-text("Add to Cart")');
  37 |     
  38 |     // Go to cart
  39 |     await page.click('[data-testid="cart-icon"]');
  40 |     
  41 |     // Update quantity
  42 |     const quantityInput = page.locator('[data-testid="quantity-input"]').first();
  43 |     await quantityInput.fill('2');
  44 |     
  45 |     // Verify quantity updated
  46 |     await expect(quantityInput).toHaveValue('2');
  47 |   });
  48 |
  49 |   test('should remove item from cart', async ({ page }) => {
  50 |     // Add item to cart
  51 |     await page.locator('[data-testid="product-card"]').first().click();
  52 |     await page.click('button:has-text("Add to Cart")');
  53 |     
  54 |     // Go to cart
  55 |     await page.click('[data-testid="cart-icon"]');
  56 |     
  57 |     // Remove item
  58 |     await page.click('[data-testid="remove-item"]');
  59 |     
  60 |     // Verify cart is empty
  61 |     await expect(page.locator('text=Your cart is empty')).toBeVisible();
  62 |   });
  63 |
  64 |   test('should persist cart across page navigation', async ({ page }) => {
  65 |     // Add item to cart
  66 |     await page.locator('[data-testid="product-card"]').first().click();
  67 |     await page.click('button:has-text("Add to Cart")');
  68 |     
  69 |     // Navigate to home and back
  70 |     await page.goto('/');
  71 |     await page.click('[data-testid="cart-icon"]');
  72 |     
  73 |     // Verify cart still has item
  74 |     await expect(page.locator('[data-testid="cart-item"]')).toBeVisible();
  75 |   });
  76 | });
  77 |
```