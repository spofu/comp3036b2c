# Test info

- Name: Product Discovery and Search >> Product search and filtering workflow
- Location: C:\Users\henry\OneDrive\Documents\uni\ICT-S4\COMP3036\Major\comp3036b2c\tests\e2e\products\optimized-products.spec.ts:12:7

# Error details

```
TimeoutError: page.goto: Timeout 10000ms exceeded.
Call log:
  - navigating to "http://localhost:3000/", waiting until "load"

    at C:\Users\henry\OneDrive\Documents\uni\ICT-S4\COMP3036\Major\comp3036b2c\tests\e2e\products\optimized-products.spec.ts:13:16
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { TestHelpers } from '../fixtures/testHelpers';
   3 | import { testUsers, searchQueries } from '../fixtures/testData';
   4 |
   5 | test.describe('Product Discovery and Search', () => {
   6 |   let helpers: TestHelpers;
   7 |
   8 |   test.beforeEach(async ({ page }) => {
   9 |     helpers = new TestHelpers(page);
   10 |   });
   11 |
   12 |   test('Product search and filtering workflow', async ({ page }) => {
>  13 |     await page.goto('/');
      |                ^ TimeoutError: page.goto: Timeout 10000ms exceeded.
   14 |     await page.waitForLoadState('networkidle');
   15 |
   16 |     // Step 1: Search functionality
   17 |     const searchInput = page.locator('[data-testid="search-input"]');
   18 |     await searchInput.fill('shirt');
   19 |     await page.keyboard.press('Enter');
   20 |     
   21 |     await page.waitForLoadState('networkidle');
   22 |     
   23 |     // Verify search results
   24 |     const searchResults = page.locator('[data-testid="product-card"]');
   25 |     await expect(searchResults.first()).toBeVisible();
   26 |     
   27 |     // Step 2: Filter by category
   28 |     const categoryFilter = page.locator('[data-testid="category-filter"]');
   29 |     if (await categoryFilter.isVisible()) {
   30 |       await categoryFilter.selectOption('Clothing');
   31 |       await page.waitForLoadState('networkidle');
   32 |     }
   33 |     
   34 |     // Step 3: Sort products
   35 |     const sortSelect = page.locator('[data-testid="sort-select"]');
   36 |     if (await sortSelect.isVisible()) {
   37 |       await sortSelect.selectOption('price-asc');
   38 |       await page.waitForLoadState('networkidle');
   39 |     }
   40 |     
   41 |     // Verify search and filter features work
   42 |     expect(await searchResults.count()).toBeGreaterThan(0);
   43 |   });
   44 |
   45 |   test('Product detail view and variant selection', async ({ page }) => {
   46 |     await page.goto('/');
   47 |     await page.waitForLoadState('networkidle');
   48 |     
   49 |     // Step 1: Navigate to product detail
   50 |     const products = page.locator('[data-testid="product-card"]');
   51 |     await products.first().click();
   52 |     
   53 |     await expect(page.locator('[data-testid="product-detail"]')).toBeVisible();
   54 |     
   55 |     // Step 2: Test variant selection
   56 |     const sizeSelector = page.locator('[data-testid="size-selector"]');
   57 |     const colorSelector = page.locator('[data-testid="color-selector"]');
   58 |     
   59 |     if (await sizeSelector.isVisible()) {
   60 |       await sizeSelector.selectOption('L');
   61 |     }
   62 |     
   63 |     if (await colorSelector.isVisible()) {
   64 |       await colorSelector.selectOption('Blue');
   65 |     }
   66 |     
   67 |     // Step 3: Check stock availability
   68 |     const stockStatus = page.locator('[data-testid="stock-status"]');
   69 |     if (await stockStatus.isVisible()) {
   70 |       const stockText = await stockStatus.textContent();
   71 |       expect(stockText).toMatch(/(in stock|out of stock)/i);
   72 |     }
   73 |     
   74 |     // Step 4: Test image gallery
   75 |     const productImages = page.locator('[data-testid="product-image"]');
   76 |     if (await productImages.count() > 1) {
   77 |       await productImages.nth(1).click();
   78 |       // Image should change
   79 |     }
   80 |     
   81 |     // Verify product detail functionality
   82 |     expect(await page.locator('[data-testid="product-name"]').isVisible()).toBe(true);
   83 |     expect(await page.locator('[data-testid="product-price"]').isVisible()).toBe(true);
   84 |   });
   85 |
   86 |   test('Search suggestions and autocomplete', async ({ page }) => {
   87 |     await page.goto('/');
   88 |     
   89 |     // Step 1: Test search suggestions
   90 |     const searchInput = page.locator('[data-testid="search-input"]');
   91 |     await searchInput.fill('sh');
   92 |     
   93 |     // Wait for suggestions to appear
   94 |     const suggestions = page.locator('[data-testid="search-suggestions"]');
   95 |     if (await suggestions.isVisible()) {
   96 |       const suggestionItems = suggestions.locator('[data-testid="suggestion-item"]');
   97 |       if (await suggestionItems.count() > 0) {
   98 |         await suggestionItems.first().click();
   99 |         
  100 |         // Should navigate to search results
  101 |         await page.waitForLoadState('networkidle');
  102 |         await expect(page.locator('[data-testid="search-results"]')).toBeVisible();
  103 |       }
  104 |     }
  105 |     
  106 |     // Step 2: Test empty search
  107 |     await searchInput.clear();
  108 |     await searchInput.fill('nonexistentproduct123');
  109 |     await page.keyboard.press('Enter');
  110 |     
  111 |     await page.waitForLoadState('networkidle');
  112 |     
  113 |     // Should show no results message
```